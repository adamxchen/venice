<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1464.7048px" preserveAspectRatio="none" style="width:3841px;height:1464px;background:#FFFFFF;" version="1.1" viewBox="0 0 3841 1464" width="3841.2125px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1419.0843" style="stroke:#181818;stroke-width:1.2125039469529524;" width="429.2264" x="2.425" y="14.55"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="375.8762" x="29.1001" y="45.0284">HelixParticipantService</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="414.6763" x="9.7" y="82.1566">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1419.0843" style="stroke:#181818;stroke-width:1.2125039469529524;" width="504.4016" x="704.4648" y="14.55"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="291.0009" x="811.1651" y="45.0284">IngestionBackend</text><rect fill="#FFFFFF" height="1419.0843" style="stroke:#181818;stroke-width:1.2125039469529524;" width="429.2264" x="1213.7165" y="14.55"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="249.7758" x="1288.8917" y="45.0284">A group of SITS</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="414.6763" x="1220.9915" y="82.1566">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1419.0843" style="stroke:#181818;stroke-width:1.2125039469529524;" width="475.3015" x="2592.3334" y="14.55"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="375.8762" x="2642.0461" y="45.0284">KafkaConsumerService</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="414.6763" x="2622.646" y="82.1566">(a dedicated thread pool)</text><rect fill="#FFFFFF" height="1419.0843" style="stroke:#181818;stroke-width:1.2125039469529524;" width="429.2264" x="3139.1727" y="14.55"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="298.276" x="3204.6479" y="45.0284">StoreBufferService</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" font-weight="bold" lengthAdjust="spacing" textLength="414.6763" x="3146.4477" y="82.1566">(a dedicated thread pool)</text><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="215.8257" x2="215.8257" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="956.6656" x2="956.6656" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="1427.1171" x2="1427.1171" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="1887.8686" x2="1887.8686" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="2280.7199" x2="2280.7199" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="2829.9842" x2="2829.9842" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="3352.5734" x2="3352.5734" y1="184.5658" y2="1274.8248"/><line style="stroke:#181818;stroke-width:1.2125039469529524;stroke-dasharray:5.0,5.0;" x1="3711.4746" x2="3711.4746" y1="184.5658" y2="1274.8248"/><rect fill="#E2E2F0" height="73.9343" rx="6.0625" ry="6.0625" style="stroke:#181818;stroke-width:1.2125039469529524;" width="118.8254" x="157.6255" y="108.2065"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="84.8753" x="174.6006" y="158.0044">Helix</text><rect fill="#E2E2F0" height="73.9343" rx="6.0625" ry="6.0625" style="stroke:#181818;stroke-width:1.2125039469529524;" width="118.8254" x="157.6255" y="1272.3997"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="84.8753" x="174.6006" y="1322.1977">Helix</text><rect fill="#E2E2F0" height="73.9343" rx="6.0625" ry="6.0625" style="stroke:#181818;stroke-width:1.2125039469529524;" width="485.0016" x="714.1648" y="108.2065"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="451.0515" x="731.1399" y="158.0044">KafkaStoreIngestionService</text><rect fill="#E2E2F0" height="73.9343" rx="6.0625" ry="6.0625" style="stroke:#181818;stroke-width:1.2125039469529524;" width="485.0016" x="714.1648" y="1272.3997"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="451.0515" x="731.1399" y="1322.1977">KafkaStoreIngestionService</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="371.0262" x="1247.6666" y="98.5065"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="371.0262" x="1237.9665" y="108.2065"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="337.0761" x="1254.9416" y="158.0044">StoreIngestionTasks</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="371.0262" x="1247.6666" y="1272.3997"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="371.0262" x="1237.9665" y="1282.0998"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="337.0761" x="1254.9416" y="1331.8977">StoreIngestionTasks</text><path d="M1718.1181,120.3315 L2060.0442,120.3315 C2072.1692,120.3315 2072.1692,152.4487 2072.1692,152.4487 C2072.1692,152.4487 2072.1692,184.5658 2060.0442,184.5658 L1718.1181,184.5658 C1705.9931,184.5658 1705.9931,152.4487 1705.9931,152.4487 C1705.9931,152.4487 1705.9931,120.3315 1718.1181,120.3315 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2125039469529524;"/><path d="M2060.0442,120.3315 C2047.9192,120.3315 2047.9192,152.4487 2047.9192,152.4487 C2047.9192,184.5658 2060.0442,184.5658 2060.0442,184.5658 " fill="none" style="stroke:#181818;stroke-width:1.2125039469529524;"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="317.676" x="1718.1181" y="165.2794">Source Kafka Topic</text><path d="M1718.1181,1272.3997 L2060.0442,1272.3997 C2072.1692,1272.3997 2072.1692,1304.5169 2072.1692,1304.5169 C2072.1692,1304.5169 2072.1692,1336.634 2060.0442,1336.634 L1718.1181,1336.634 C1705.9931,1336.634 1705.9931,1304.5169 1705.9931,1304.5169 C1705.9931,1304.5169 1705.9931,1272.3997 1718.1181,1272.3997 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2125039469529524;"/><path d="M2060.0442,1272.3997 C2047.9192,1272.3997 2047.9192,1304.5169 2047.9192,1304.5169 C2047.9192,1336.634 2060.0442,1336.634 2060.0442,1336.634 " fill="none" style="stroke:#181818;stroke-width:1.2125039469529524;"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="317.676" x="1718.1181" y="1317.3476">Source Kafka Topic</text><path d="M2108.5444,120.3315 L2455.3205,120.3315 C2467.4455,120.3315 2467.4455,152.4487 2467.4455,152.4487 C2467.4455,152.4487 2467.4455,184.5658 2455.3205,184.5658 L2108.5444,184.5658 C2096.4193,184.5658 2096.4193,152.4487 2096.4193,152.4487 C2096.4193,152.4487 2096.4193,120.3315 2108.5444,120.3315 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2125039469529524;"/><path d="M2455.3205,120.3315 C2443.1955,120.3315 2443.1955,152.4487 2443.1955,152.4487 C2443.1955,184.5658 2455.3205,184.5658 2455.3205,184.5658 " fill="none" style="stroke:#181818;stroke-width:1.2125039469529524;"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="322.526" x="2108.5444" y="165.2794">Local Version Topic</text><path d="M2108.5444,1272.3997 L2455.3205,1272.3997 C2467.4455,1272.3997 2467.4455,1304.5169 2467.4455,1304.5169 C2467.4455,1304.5169 2467.4455,1336.634 2455.3205,1336.634 L2108.5444,1336.634 C2096.4193,1336.634 2096.4193,1304.5169 2096.4193,1304.5169 C2096.4193,1304.5169 2096.4193,1272.3997 2108.5444,1272.3997 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2125039469529524;"/><path d="M2455.3205,1272.3997 C2443.1955,1272.3997 2443.1955,1304.5169 2443.1955,1304.5169 C2443.1955,1336.634 2455.3205,1336.634 2455.3205,1336.634 " fill="none" style="stroke:#181818;stroke-width:1.2125039469529524;"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="322.526" x="2108.5444" y="1317.3476">Local Version Topic</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="446.2015" x="2611.7335" y="98.5065"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="446.2015" x="2602.0335" y="108.2065"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="412.2513" x="2619.0085" y="158.0044">KafkaConsumptionTasks</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="446.2015" x="2611.7335" y="1272.3997"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="446.2015" x="2602.0335" y="1282.0998"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="412.2513" x="2619.0085" y="1331.8977">KafkaConsumptionTasks</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="361.3262" x="3177.9728" y="98.5065"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="361.3262" x="3168.2728" y="108.2065"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="327.3761" x="3185.2479" y="158.0044">StoreBufferDrainers</text><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="361.3262" x="3177.9728" y="1272.3997"/><rect fill="#E2E2F0" height="73.9343" style="stroke:#181818;stroke-width:1.2125039469529524;" width="361.3262" x="3168.2728" y="1282.0998"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="327.3761" x="3185.2479" y="1331.8977">StoreBufferDrainers</text><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="242.5008" x="3582.9492" y="177.4045">StorageEngine</text><path d="M3667.8244,57.2813 C3667.8244,33.0313 3711.4746,33.0313 3711.4746,33.0313 C3711.4746,33.0313 3755.1247,33.0313 3755.1247,57.2813 L3755.1247,120.3315 C3755.1247,144.5816 3711.4746,144.5816 3711.4746,144.5816 C3711.4746,144.5816 3667.8244,144.5816 3667.8244,120.3315 L3667.8244,57.2813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:3.637511840858857;"/><path d="M3667.8244,57.2813 C3667.8244,81.5314 3711.4746,81.5314 3711.4746,81.5314 C3711.4746,81.5314 3755.1247,81.5314 3755.1247,57.2813 " fill="none" style="stroke:#181818;stroke-width:3.637511840858857;"/><text fill="#000000" font-family="sans-serif" font-size="33.9501" lengthAdjust="spacing" textLength="242.5008" x="3582.9492" y="1305.2226">StorageEngine</text><path d="M3667.8244,1336.634 C3667.8244,1312.384 3711.4746,1312.384 3711.4746,1312.384 C3711.4746,1312.384 3755.1247,1312.384 3755.1247,1336.634 L3755.1247,1399.6842 C3755.1247,1423.9343 3711.4746,1423.9343 3711.4746,1423.9343 C3711.4746,1423.9343 3667.8244,1423.9343 3667.8244,1399.6842 L3667.8244,1336.634 " fill="#E2E2F0" style="stroke:#181818;stroke-width:3.637511840858857;"/><path d="M3667.8244,1336.634 C3667.8244,1360.8841 3711.4746,1360.8841 3711.4746,1360.8841 C3711.4746,1360.8841 3755.1247,1360.8841 3755.1247,1336.634 " fill="none" style="stroke:#181818;stroke-width:3.637511840858857;"/><polygon fill="#181818" points="927.5655,287.9223,951.8156,297.6224,927.5655,307.3224,937.2656,297.6224" style="stroke:#181818;stroke-width:2.4250078939059048;"/><line style="stroke:#181818;stroke-width:2.4250078939059048;" x1="217.0382" x2="942.1156" y1="297.6224" y2="297.6224"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="339.5011" x="234.0133" y="248.9943">Issue state transitions</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="535.9267" x="234.0133" y="286.1225">according to partition assignments</text><polygon fill="#181818" points="1399.2296,396.1288,1423.4796,405.8289,1399.2296,415.5289,1408.9296,405.8289" style="stroke:#181818;stroke-width:2.4250078939059048;"/><line style="stroke:#181818;stroke-width:2.4250078939059048;" x1="956.6656" x2="1413.7796" y1="405.8289" y2="405.8289"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="317.676" x="973.6407" y="357.2008">Manage lifecycle and</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="375.8762" x="973.6407" y="394.329">send commands for SITs</text><polygon fill="#FF0000" points="1859.9811,578.5917,1884.2311,588.2918,1859.9811,597.9918,1869.6811,588.2918" style="stroke:#FF0000;stroke-width:2.4250078939059048;"/><line style="stroke:#FF0000;stroke-width:2.4250078939059048;" x1="1428.3296" x2="1874.5311" y1="588.2918" y2="588.2918"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="315.251" x="1445.3047" y="465.4073">Leaders subscribe to</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="300.701" x="1445.3047" y="502.5355">source kafka topics</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="291.0009" x="1445.3047" y="539.6637">(a remote VT or RT)</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="388.0013" x="1445.3047" y="576.7919">when consumes remotely</text><polygon fill="#FF0000" points="2800.8841,649.67,2825.1342,659.3701,2800.8841,669.0701,2810.5841,659.3701" style="stroke:#FF0000;stroke-width:2.4250078939059048;"/><line style="stroke:#FF0000;stroke-width:2.4250078939059048;" x1="1889.0811" x2="2815.4342" y1="659.3701" y2="659.3701"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="324.9511" x="1906.0562" y="647.8702">Pull msgs from kafka</text><polygon fill="#FF0000" points="2308.6075,757.8765,2284.3574,767.5766,2308.6075,777.2766,2298.9075,767.5766" style="stroke:#FF0000;stroke-width:2.4250078939059048;"/><line style="stroke:#FF0000;stroke-width:2.4250078939059048;" x1="2294.0575" x2="2827.5592" y1="767.5766" y2="767.5766"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="385.5763" x="2323.1576" y="718.9485">Produce msgs to local VT</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="489.8516" x="2323.1576" y="756.0767">when leader consumes remotely</text><polygon fill="#FF0000" points="3324.6858,866.083,3348.9359,875.7831,3324.6858,885.4831,3334.3859,875.7831" style="stroke:#FF0000;stroke-width:2.4250078939059048;"/><line style="stroke:#FF0000;stroke-width:2.4250078939059048;" x1="2281.9324" x2="3339.2359" y1="875.7831" y2="875.7831"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="324.9511" x="2298.9075" y="827.155">Msgs Acked by Kafka</text><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="565.0268" x="2298.9075" y="864.2832">then records queued up into drainers</text><polygon fill="#008000" points="2252.8323,937.1614,2277.0824,946.8614,2252.8323,956.5614,2262.5324,946.8614" style="stroke:#008000;stroke-width:2.4250078939059048;"/><line style="stroke:#008000;stroke-width:2.4250078939059048;" x1="1428.3296" x2="2267.3824" y1="946.8614" y2="946.8614"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="475.3015" x="1445.3047" y="935.3615">Followers subscribe to local VT</text><polygon fill="#008000" points="2800.8841,1008.2397,2825.1342,1017.9397,2800.8841,1027.6397,2810.5841,1017.9397" style="stroke:#008000;stroke-width:2.4250078939059048;"/><line style="stroke:#008000;stroke-width:2.4250078939059048;" x1="2281.9324" x2="2815.4342" y1="1017.9397" y2="1017.9397"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="324.9511" x="2298.9075" y="1006.4398">Pull msgs from kafka</text><polygon fill="#008000" points="3324.6858,1079.318,3348.9359,1089.018,3324.6858,1098.718,3334.3859,1089.018" style="stroke:#008000;stroke-width:2.4250078939059048;"/><line style="stroke:#008000;stroke-width:2.4250078939059048;" x1="2829.9842" x2="3339.2359" y1="1089.018" y2="1089.018"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="446.2015" x="2846.9593" y="1077.5182">Records queued into drainers</text><polygon fill="#181818" points="1455.0047,1150.3963,1430.7547,1160.0963,1455.0047,1169.7963,1445.3047,1160.0963" style="stroke:#181818;stroke-width:2.4250078939059048;"/><line style="stroke:#181818;stroke-width:2.4250078939059048;" x1="1440.4547" x2="3351.3609" y1="1160.0963" y2="1160.0963"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="945.7531" x="1469.5548" y="1148.5965">Dequeue the records and invoke methods from SITS to persist</text><polygon fill="#181818" points="3682.3745,1221.4746,3706.6246,1231.1746,3682.3745,1240.8746,3692.0745,1231.1746" style="stroke:#181818;stroke-width:2.4250078939059048;"/><line style="stroke:#181818;stroke-width:2.4250078939059048;" x1="1428.3296" x2="3696.9245" y1="1231.1746" y2="1231.1746"/><text fill="#000000" font-family="sans-serif" font-size="31.5251" lengthAdjust="spacing" textLength="531.0767" x="1445.3047" y="1219.6748">Persist records into storage engine</text><!--SRC=[dLFBRjim4BppAnRseKs10Ea3HQ53W3nQr7026B7W7keUQ78b4vP8bwJo-Flkah9ifm7wy4cMXZEpiyEWP8Fm_jE7ipVltduy4sBb7c44y1KRypYJFXfbjjB6EVfxet1fNqlGg8sI4JN4jKUfOUjSSpA2yRUrYIYs-rEP1cI0DJy8j1f888jCR8qX6cSlfThGbz4BvwUosiXvT1u7TE-4IQUJ-J4bvDy5rDvrMt0Lp2Vb_6zCAzSqg9W_mB5UASCci1fJ3N8_E-mGHdFNUVAIR4BfjaQD6EgnTKJQWsuSXGmBz87e3b2BSkSwdRyYxQv5_mzH7xe-9DaU6PzUbI_cbEQyxAhg_pKFAAwzD9PcJ55TNkyLjOno9GEdHMXPusTR4p95e5T2f6h0wJclivY4G965IFeGlRJ1PAMbbKevhusj8Jf87U4lH19CRLkqCGWYO1vUL74hBKb1OofKJuewBidEqWPsfLpRqjy0bVEC3aA8Lp26XgP53ojSotlZl60YEFq-zgX_dFTBBMuIA43eLa5viqBsGyIv2PlKXCWxPjCKPpv6omOIkojFwEt36YsPIElUbQLv4Zro4EIz5REkQQ0DDPdrhityWh_iSOkoc7cdEv9FGFBJvCgLEx5-ijyr2JBmyDQAMsQue0j9otlgYxsqaKayyWO2f5fhe0jcB6dfVl4vmuhguHvUIh7sY3RR_TA3dgMuSzsxsXtuSmuxP9hWxjZcCuyC6KfoZVcAqdZ3TDmJO-_TXjB4k7QwLqnZSFNu7eVOZtLE5Ivc-TL0aIH3BZjWQhlu1G00]--></g></svg>